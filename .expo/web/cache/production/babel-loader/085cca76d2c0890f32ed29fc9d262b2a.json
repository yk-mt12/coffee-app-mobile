{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import PropTypes from'prop-types';import{formatTimeString}from\"./utils\";import{jsx as _jsx}from\"react/jsx-runtime\";var StopWatch=function(_Component){_inherits(StopWatch,_Component);var _super=_createSuper(StopWatch);function StopWatch(props){var _this;_classCallCheck(this,StopWatch);_this=_super.call(this,props);var startTime=props.startTime;_this.state={startTime:null,stopTime:null,pausedTime:null,started:false,elapsed:startTime||0};_this.start=_this.start.bind(_assertThisInitialized(_this));_this.stop=_this.stop.bind(_assertThisInitialized(_this));_this.reset=_this.reset.bind(_assertThisInitialized(_this));_this.formatTime=_this.formatTime.bind(_assertThisInitialized(_this));var width=props.msecs?220:150;_this.defaultStyles={container:{backgroundColor:'#000',padding:5,borderRadius:5,width:width},text:{fontSize:30,color:'#FFF',marginLeft:7}};return _this;}_createClass(StopWatch,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.start){this.start();}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(newProps){if(newProps.start){this.start();}else{this.stop();}if(newProps.reset){this.reset();}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.interval);}},{key:\"start\",value:function start(){var _this2=this;if(this.props.laps&&this.state.elapsed){var lap=new Date()-this.state.stopTime;this.setState({stopTime:null,pausedTime:this.state.pausedTime+lap});}this.setState({startTime:this.state.elapsed?new Date()-this.state.elapsed:new Date(),started:true});this.interval=this.interval?this.interval:setInterval(function(){_this2.setState({elapsed:new Date()-_this2.state.startTime});},1);}},{key:\"stop\",value:function stop(){if(this.interval){if(this.props.laps){this.setState({stopTime:new Date()});}clearInterval(this.interval);this.interval=null;}this.setState({started:false});}},{key:\"reset\",value:function reset(){var startTime=this.props.startTime;this.setState({elapsed:startTime||0,startTime:null,stopTime:null,pausedTime:null});}},{key:\"formatTime\",value:function formatTime(){var _this$props=this.props,getTime=_this$props.getTime,getMsecs=_this$props.getMsecs,msecs=_this$props.msecs;var now=this.state.elapsed;var formatted=formatTimeString(now,msecs);if(typeof getTime===\"function\"){getTime(formatted);}if(typeof getMsecs===\"function\"){getMsecs(now);}return formatted;}},{key:\"render\",value:function render(){var styles=this.props.options?this.props.options:this.defaultStyles;return _jsx(View,{ref:\"stopwatch\",style:styles.container,children:_jsx(Text,{style:styles.text,children:this.formatTime()})});}}]);return StopWatch;}(Component);StopWatch.propTypes={start:PropTypes.bool,reset:PropTypes.bool,msecs:PropTypes.bool,options:PropTypes.object,laps:PropTypes.bool,getTime:PropTypes.func,startTime:PropTypes.number,getMsecs:PropTypes.func};export default StopWatch;","map":{"version":3,"sources":["/Users/yukim/develop/react-native/coffee-app/node_modules/react-native-stopwatch-timer/lib/stopwatch.js"],"names":["React","Component","PropTypes","formatTimeString","StopWatch","props","startTime","state","stopTime","pausedTime","started","elapsed","start","bind","stop","reset","formatTime","width","msecs","defaultStyles","container","backgroundColor","padding","borderRadius","text","fontSize","color","marginLeft","newProps","clearInterval","interval","laps","lap","Date","setState","setInterval","getTime","getMsecs","now","formatted","styles","options","propTypes","bool","object","func","number"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Text, View, StyleSheet} from 'react-native';\nimport PropTypes from 'prop-types';\nimport { formatTimeString } from './utils';\n\n\nclass StopWatch extends Component {\n  static propTypes = {\n    start: PropTypes.bool,\n    reset: PropTypes.bool,\n    msecs: PropTypes.bool,\n    options: PropTypes.object,\n    laps: PropTypes.bool,\n    getTime: PropTypes.func,\n    startTime: PropTypes.number,\n    getMsecs: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props);\n    const { startTime } = props;\n    this.state = {\n      startTime: null,\n      stopTime: null,\n      pausedTime: null,\n      started: false,\n      elapsed: startTime || 0,\n    };\n    this.start = this.start.bind(this);\n    this.stop = this.stop.bind(this);\n    this.reset = this.reset.bind(this);\n    this.formatTime = this.formatTime.bind(this);\n    const width = props.msecs ? 220 : 150;\n    this.defaultStyles = {\n      container: {\n        backgroundColor: '#000',\n        padding: 5,\n        borderRadius: 5,\n        width: width,\n      },\n      text: {\n        fontSize: 30,\n        color: '#FFF',\n        marginLeft: 7,\n      }\n    };\n  }\n\n  componentDidMount() {\n    if(this.props.start) {\n      this.start();\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if(newProps.start) {\n      this.start();\n    } else {\n      this.stop();\n    }\n    if(newProps.reset) {\n      this.reset();\n    }\n  }\n\n  componentWillUnmount() {\n     clearInterval(this.interval);\n  }\n\n  start() {\n    if (this.props.laps && this.state.elapsed) {\n      let lap = new Date() - this.state.stopTime;\n      this.setState({\n        stopTime: null,\n        pausedTime: this.state.pausedTime + lap\n      })\n    }\n    \n    this.setState({startTime: this.state.elapsed ? new Date() - this.state.elapsed :\n      new Date(), started: true});\n      \n    this.interval = this.interval ? this.interval : setInterval(() => {\n        this.setState({elapsed: new Date() - this.state.startTime });\n    }, 1);\n  }\n\n  stop() {\n    if(this.interval) {\n      if (this.props.laps) {\n        this.setState({stopTime: new Date()})\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n    this.setState({started: false});\n  }\n\n  reset() {\n    const { startTime } = this.props;\n    this.setState({\n      elapsed: startTime || 0,\n      startTime: null,\n      stopTime: null,\n      pausedTime: null\n    });\n  }\n\n  formatTime() {\n    const { getTime, getMsecs, msecs } = this.props;\n    const now = this.state.elapsed;\n    const formatted = formatTimeString(now, msecs);\n    if (typeof getTime === \"function\") {\n      getTime(formatted);\n    }\n    if (typeof getMsecs === \"function\") {\n      getMsecs(now)\n    }\n    return formatted;\n  }\n\n\n  render() {\n\n    const styles = this.props.options ? this.props.options : this.defaultStyles;\n\n    return(\n      <View ref=\"stopwatch\" style={styles.container}>\n        <Text style={styles.text}>{this.formatTime()}</Text>\n      </View>\n    );\n  }\n}\n\nexport default StopWatch;\n"]},"metadata":{},"sourceType":"module"}