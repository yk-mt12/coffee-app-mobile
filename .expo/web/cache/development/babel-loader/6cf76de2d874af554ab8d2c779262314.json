{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport PropTypes from 'prop-types';\nimport { formatTimeString } from \"./utils\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar StopWatch = function (_Component) {\n  _inherits(StopWatch, _Component);\n\n  var _super = _createSuper(StopWatch);\n\n  function StopWatch(props) {\n    var _this;\n\n    _classCallCheck(this, StopWatch);\n\n    _this = _super.call(this, props);\n    var startTime = props.startTime;\n    _this.state = {\n      startTime: null,\n      stopTime: null,\n      pausedTime: null,\n      started: false,\n      elapsed: startTime || 0\n    };\n    _this.start = _this.start.bind(_assertThisInitialized(_this));\n    _this.stop = _this.stop.bind(_assertThisInitialized(_this));\n    _this.reset = _this.reset.bind(_assertThisInitialized(_this));\n    _this.formatTime = _this.formatTime.bind(_assertThisInitialized(_this));\n    var width = props.msecs ? 220 : 150;\n    _this.defaultStyles = {\n      container: {\n        backgroundColor: '#000',\n        padding: 5,\n        borderRadius: 5,\n        width: width\n      },\n      text: {\n        fontSize: 30,\n        color: '#FFF',\n        marginLeft: 7\n      }\n    };\n    return _this;\n  }\n\n  _createClass(StopWatch, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.start) {\n        this.start();\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.start) {\n        this.start();\n      } else {\n        this.stop();\n      }\n\n      if (newProps.reset) {\n        this.reset();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this2 = this;\n\n      if (this.props.laps && this.state.elapsed) {\n        var lap = new Date() - this.state.stopTime;\n        this.setState({\n          stopTime: null,\n          pausedTime: this.state.pausedTime + lap\n        });\n      }\n\n      this.setState({\n        startTime: this.state.elapsed ? new Date() - this.state.elapsed : new Date(),\n        started: true\n      });\n      this.interval = this.interval ? this.interval : setInterval(function () {\n        _this2.setState({\n          elapsed: new Date() - _this2.state.startTime\n        });\n      }, 1);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.interval) {\n        if (this.props.laps) {\n          this.setState({\n            stopTime: new Date()\n          });\n        }\n\n        clearInterval(this.interval);\n        this.interval = null;\n      }\n\n      this.setState({\n        started: false\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var startTime = this.props.startTime;\n      this.setState({\n        elapsed: startTime || 0,\n        startTime: null,\n        stopTime: null,\n        pausedTime: null\n      });\n    }\n  }, {\n    key: \"formatTime\",\n    value: function formatTime() {\n      var _this$props = this.props,\n          getTime = _this$props.getTime,\n          getMsecs = _this$props.getMsecs,\n          msecs = _this$props.msecs;\n      var now = this.state.elapsed;\n      var formatted = formatTimeString(now, msecs);\n\n      if (typeof getTime === \"function\") {\n        getTime(formatted);\n      }\n\n      if (typeof getMsecs === \"function\") {\n        getMsecs(now);\n      }\n\n      return formatted;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var styles = this.props.options ? this.props.options : this.defaultStyles;\n      return _jsx(View, {\n        ref: \"stopwatch\",\n        style: styles.container,\n        children: _jsx(Text, {\n          style: styles.text,\n          children: this.formatTime()\n        })\n      });\n    }\n  }]);\n\n  return StopWatch;\n}(Component);\n\nStopWatch.propTypes = {\n  start: PropTypes.bool,\n  reset: PropTypes.bool,\n  msecs: PropTypes.bool,\n  options: PropTypes.object,\n  laps: PropTypes.bool,\n  getTime: PropTypes.func,\n  startTime: PropTypes.number,\n  getMsecs: PropTypes.func\n};\nexport default StopWatch;","map":{"version":3,"sources":["/Users/yukim/develop/react-native/coffee-app/node_modules/react-native-stopwatch-timer/lib/stopwatch.js"],"names":["React","Component","PropTypes","formatTimeString","StopWatch","props","startTime","state","stopTime","pausedTime","started","elapsed","start","bind","stop","reset","formatTime","width","msecs","defaultStyles","container","backgroundColor","padding","borderRadius","text","fontSize","color","marginLeft","newProps","clearInterval","interval","laps","lap","Date","setState","setInterval","getTime","getMsecs","now","formatted","styles","options","propTypes","bool","object","func","number"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Text, View, StyleSheet} from 'react-native';\nimport PropTypes from 'prop-types';\nimport { formatTimeString } from './utils';\n\n\nclass StopWatch extends Component {\n  static propTypes = {\n    start: PropTypes.bool,\n    reset: PropTypes.bool,\n    msecs: PropTypes.bool,\n    options: PropTypes.object,\n    laps: PropTypes.bool,\n    getTime: PropTypes.func,\n    startTime: PropTypes.number,\n    getMsecs: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props);\n    const { startTime } = props;\n    this.state = {\n      startTime: null,\n      stopTime: null,\n      pausedTime: null,\n      started: false,\n      elapsed: startTime || 0,\n    };\n    this.start = this.start.bind(this);\n    this.stop = this.stop.bind(this);\n    this.reset = this.reset.bind(this);\n    this.formatTime = this.formatTime.bind(this);\n    const width = props.msecs ? 220 : 150;\n    this.defaultStyles = {\n      container: {\n        backgroundColor: '#000',\n        padding: 5,\n        borderRadius: 5,\n        width: width,\n      },\n      text: {\n        fontSize: 30,\n        color: '#FFF',\n        marginLeft: 7,\n      }\n    };\n  }\n\n  componentDidMount() {\n    if(this.props.start) {\n      this.start();\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if(newProps.start) {\n      this.start();\n    } else {\n      this.stop();\n    }\n    if(newProps.reset) {\n      this.reset();\n    }\n  }\n\n  componentWillUnmount() {\n     clearInterval(this.interval);\n  }\n\n  start() {\n    if (this.props.laps && this.state.elapsed) {\n      let lap = new Date() - this.state.stopTime;\n      this.setState({\n        stopTime: null,\n        pausedTime: this.state.pausedTime + lap\n      })\n    }\n    \n    this.setState({startTime: this.state.elapsed ? new Date() - this.state.elapsed :\n      new Date(), started: true});\n      \n    this.interval = this.interval ? this.interval : setInterval(() => {\n        this.setState({elapsed: new Date() - this.state.startTime });\n    }, 1);\n  }\n\n  stop() {\n    if(this.interval) {\n      if (this.props.laps) {\n        this.setState({stopTime: new Date()})\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n    this.setState({started: false});\n  }\n\n  reset() {\n    const { startTime } = this.props;\n    this.setState({\n      elapsed: startTime || 0,\n      startTime: null,\n      stopTime: null,\n      pausedTime: null\n    });\n  }\n\n  formatTime() {\n    const { getTime, getMsecs, msecs } = this.props;\n    const now = this.state.elapsed;\n    const formatted = formatTimeString(now, msecs);\n    if (typeof getTime === \"function\") {\n      getTime(formatted);\n    }\n    if (typeof getMsecs === \"function\") {\n      getMsecs(now)\n    }\n    return formatted;\n  }\n\n\n  render() {\n\n    const styles = this.props.options ? this.props.options : this.defaultStyles;\n\n    return(\n      <View ref=\"stopwatch\" style={styles.container}>\n        <Text style={styles.text}>{this.formatTime()}</Text>\n      </View>\n    );\n  }\n}\n\nexport default StopWatch;\n"]},"metadata":{},"sourceType":"module"}